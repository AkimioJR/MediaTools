name: Builder for Binary

on:
  push:
    branches:
      - main
    paths:
      - "**.go"
      - "go.mod"
      - "go.sum"
  pull_request:
    branches:
      - main
    paths:
      - "**.go"
      - "go.mod"
      - "go.sum"
  workflow_dispatch:

# concurrency:
#   group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
#   cancel-in-progress: true

jobs:
  build-web:
    name: Build Web Frontend
    uses: ./.github/workflows/core-builder-web.yaml

  build-binary:
    needs: build-web
    name: Build Binary
    uses: ./.github/workflows/core-builder-binary.yaml
